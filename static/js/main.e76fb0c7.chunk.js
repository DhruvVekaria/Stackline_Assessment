(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{217:function(e,t,n){},218:function(e,t,n){},428:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(66),i=n.n(r),s=(n(217),n(21)),a=n(22),o=n(25),l=n(24),d=(n(218),n(23)),j=n(2),u=function(e){return Object(j.jsxs)("div",{id:"product",children:[Object(j.jsxs)("figure",{children:[Object(j.jsx)("img",{src:e.src,alt:e.alt}),Object(j.jsx)("figcaption",{id:"title",children:e.title}),Object(j.jsx)("figcaption",{id:"subtitle",children:e.subtitle})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{id:"spans",children:e.tags}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{id:"icons",children:e.icons})]})},h=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props.data.tags?this.props.data.tags.map((function(e){return Object(j.jsx)("span",{className:"tags",children:e})})):Object(j.jsx)("span",{}),t=this.props.data.title?this.props.data.title+" image":"No image";return Object(j.jsx)(u,{src:this.props.data.image,title:this.props.data.title,subtitle:this.props.data.subtitle,tags:e,alt:t})}}]),n}(c.Component);var b=Object(d.b)((function(e){return{data:e.data}}),null)(h),O=n(67),f=function(e){return Object(j.jsx)("div",{id:"table",children:Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",onClick:function(){return e.sortBy("weekEnding")},children:Object(j.jsxs)("div",{children:["WEEK ENDING",Object(j.jsxs)("span",{className:"arrowIcon",children:[" ",e.icon]})]})}),Object(j.jsx)("th",{scope:"col",onClick:function(){return e.sortBy("retailSales")},children:Object(j.jsxs)("div",{children:["RETAIL SALES ",Object(j.jsx)("span",{className:"arrowIcon",children:e.icon})]})}),Object(j.jsx)("th",{scope:"col",onClick:function(){return e.sortBy("wholesaleSales")},children:Object(j.jsxs)("div",{children:["WHOLESALE SALES ",Object(j.jsx)("span",{className:"arrowIcon",children:e.icon})]})}),Object(j.jsx)("th",{scope:"col",onClick:function(){return e.sortBy("unitsSold")},children:Object(j.jsxs)("div",{children:["UNITS SOLD ",Object(j.jsx)("span",{className:"arrowIcon",children:e.icon})]})}),Object(j.jsx)("th",{scope:"col",onClick:function(){return e.sortBy("retailerMargin")},children:Object(j.jsxs)("div",{children:["RETAILER MARGIN ",Object(j.jsx)("span",{className:"arrowIcon",children:e.icon})]})})]})}),Object(j.jsx)("tbody",{children:e.rows})]})})},p="SORT",g="FETCH",x=n(164),v=n.n(x),w=function(e){return{type:g,data:e}};var m=n(165),y=n(166),k=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(s.a)(this,n),(c=t.call(this,e)).sortBy=c.sortBy.bind(Object(O.a)(c)),c}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchData()}},{key:"sortBy",value:function(e){this.props.sortBy(e)}},{key:"render",value:function(){var e=this.props.data.sales?this.props.data.sales.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.weekEnding.toLocaleString()}),Object(j.jsx)("td",{children:"$"+e.retailSales.toLocaleString()}),Object(j.jsx)("td",{children:"$"+e.wholesaleSales.toLocaleString()}),Object(j.jsx)("td",{children:e.unitsSold.toLocaleString()}),Object(j.jsx)("td",{children:"$"+e.retailerMargin.toLocaleString()})]})})):Object(j.jsx)("tr",{children:Object(j.jsx)("td",{rowspan:"5",children:"No data to display"})}),t=Object(j.jsx)(m.a,{icon:y.a});return Object(j.jsx)(f,{rows:e,sortBy:this.sortBy,icon:t})}}]),n}(c.Component);var S=Object(d.b)((function(e){return{data:e.data}}),(function(e){return{sortBy:function(t){e(function(e){return{type:p,key:e}}(t))},fetchData:function(){e((function(e){return v.a.get("https://myjson.dit.upm.es/api/bins/scs").then((function(t){var n=JSON.parse(t.request.response)[0];return e(w(n))})).catch((function(t){return console.log(t),e(w({}))}))}))}}}))(k),N=n(45),E=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(a.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{id:"chart",children:[Object(j.jsx)("text",{children:"Retail Sales"}),Object(j.jsxs)(N.b,{width:900,height:300,data:this.props.data.sales,children:[Object(j.jsx)(N.d,{dataKey:"weekEnding"}),Object(j.jsx)(N.c,{}),Object(j.jsx)(N.a,{type:"monotone",dataKey:"retailSales",stroke:"#0097fc",strokeWidth:2}),Object(j.jsx)(N.a,{type:"monotone",dataKey:"wholesaleSales",stroke:"#7e888f",strokeWidth:2})]})]})}}]),n}(c.Component);var L=Object(d.b)((function(e){return{data:e.data}}),null)(E),B=n(448),C=n(447),I=n(444),T=n.p+"static/media/stackline_logo.5935081b.svg",A=Object(I.a)((function(){return{header:{backgroundColor:"#052849"}}})),D=function(e){var t=A().header;return Object(j.jsx)("div",{children:Object(j.jsx)(B.a,{position:"static",className:t,children:Object(j.jsx)(C.a,{children:Object(j.jsx)("img",{style:{height:70,width:150},src:T,alt:"Logo"})})})})},W=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"grid-container",children:[Object(j.jsx)("div",{className:"product-container",children:Object(j.jsx)(b,{})}),Object(j.jsx)("div",{className:"chart-container",children:Object(j.jsx)(L,{})}),Object(j.jsx)("div",{className:"table-container",children:Object(j.jsx)(S,{})}),Object(j.jsx)("div",{className:"header-container",children:Object(j.jsx)(D,{})})]})}}]),n}(c.Component),R=W,M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var $=n(30),J=n(180),_={weekEnding:"asc",retailSales:"asc",wholesaleSales:"asc",unitsSold:"asc",retailerMargin:"asc"},G=Object($.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.data;case p:if(Object.getOwnPropertyNames(e).length>0){var n,c=t.key,r=e.sales.map((function(e){return Object.assign({},e)}));return n="weekEnding"===c?r.sort((function(e,t){return"asc"===_[c]?new Date(t[c]).getTime()-new Date(e[c]).getTime():new Date(e[c]).getTime()-new Date(t[c]).getTime()})):r.sort((function(e,t){return"asc"===_[c]?t[c]-e[c]:e[c]-t[c]})),_[c]="asc"===_[c]?"desc":"asc",Object.assign({},e,{sales:n})}return e;default:return e}}}),H=G,U=Object($.d)(H,Object($.a)(J.a));i.a.render(Object(j.jsx)(d.a,{store:U,children:Object(j.jsx)(R,{})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/Stackline_Assessment",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/Stackline_Assessment","/service-worker.js");M?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a serviceworker. To learn more, visit https://goo.gl/SC7cgQ")}))):K(e)}))}}()}},[[428,1,2]]]);
//# sourceMappingURL=main.e76fb0c7.chunk.js.map